// Code generated by @sumup/ts-sdk-gen@0.0.1. DO NOT EDIT.

import * as Core from "../../core";

/**
 * Error
 */
export type CompatError = { error_code: string; message: string };

export type OperatorPermissions = {
  admin: boolean;
  create_moto_payments: boolean;
  create_referral: boolean;
  full_transaction_history_view: boolean;
  refund_transactions: boolean;
};

export type Operator = {
  account_type: "operator" | "normal";
  created_at: string;
  disabled: boolean;
  id: number;
  nickname?: string;
  permissions: OperatorPermissions;
  updated_at: string;
  username: string;
};

export type ListSubAccountsQueryParams = {
  query?: string;
  includePrimary?: boolean;
};

export type ListSubAccountsResponse = Operator[];

export type CreateSubAccountParams = {
  nickname?: string;
  password: string;
  permissions?: {
    create_moto_payments?: boolean;
    create_referral?: boolean;
    full_transaction_history_view?: boolean;
    refund_transactions?: boolean;
  };
  username: string;
};

export type UpdateSubAccountParams = {
  disabled?: boolean;
  nickname?: string;
  password?: string;
  permissions?: {
    create_moto_payments?: boolean;
    create_referral?: boolean;
    full_transaction_history_view?: boolean;
    refund_transactions?: boolean;
  };
  username?: string;
};

export type CompatChangeOperatorsPasswordParams = { password?: string };

export class Subaccounts extends Core.APIResource {
  /**
   * List operators.
   */
  listSubAccounts(
    query?: ListSubAccountsQueryParams,
    params?: Core.FetchParams,
  ): Core.APIPromise<Operator[]> {
    return this._client.get<Operator[]>({
      path: `/v0.1/me/accounts`,
      query,
      ...params,
    });
  }

  /**
   * Create operator.
   */
  createSubAccount(
    body: CreateSubAccountParams,
    params?: Core.FetchParams,
  ): Core.APIPromise<Operator> {
    return this._client.post<Operator>({
      path: `/v0.1/me/accounts`,
      body,
      ...params,
    });
  }

  /**
   * Get operator
   */
  compatGetOperator(
    operatorId: number,
    params?: Core.FetchParams,
  ): Core.APIPromise<Operator> {
    return this._client.get<Operator>({
      path: `/v0.1/me/accounts/${operatorId}`,
      ...params,
    });
  }

  /**
   * Update operator.
   */
  updateSubAccount(
    operatorId: number,
    body: UpdateSubAccountParams,
    params?: Core.FetchParams,
  ): Core.APIPromise<Operator> {
    return this._client.put<Operator>({
      path: `/v0.1/me/accounts/${operatorId}`,
      body,
      ...params,
    });
  }

  /**
   * Disable operator.
   */
  deactivateSubAccount(
    operatorId: number,
    params?: Core.FetchParams,
  ): Core.APIPromise<Operator> {
    return this._client.delete<Operator>({
      path: `/v0.1/me/accounts/${operatorId}`,
      ...params,
    });
  }

  /**
   * Disable operator.
   */
  compatDisableOperator(
    operatorId: number,
    params?: Core.FetchParams,
  ): Core.APIPromise<Operator> {
    return this._client.post<Operator>({
      path: `/v0.1/me/accounts/${operatorId}/disable`,
      ...params,
    });
  }

  /**
   * Change operators password.
   */
  compatChangeOperatorsPassword(
    operatorId: number,
    body: CompatChangeOperatorsPasswordParams,
    params?: Core.FetchParams,
  ): Core.APIPromise<Operator> {
    return this._client.put<Operator>({
      path: `/v0.1/me/accounts/${operatorId}/reset`,
      body,
      ...params,
    });
  }
}

export declare namespace Subaccounts {
  export type {
    CompatChangeOperatorsPasswordParams,
    CompatError,
    CreateSubAccountParams,
    ListSubAccountsQueryParams,
    Operator,
    OperatorPermissions,
    UpdateSubAccountParams,
  };
}
